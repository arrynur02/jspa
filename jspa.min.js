/*!
  * JSPA V1.0 - jQuery Single Page Application's
  * Author (https://github.com/arrynur)
  * Source (https://github.com/arrynur/jspa)
*/ !function(t){"use strict";var e=t,n=document,o=t.location.hash,i=t.location.href,a=t.location.search,l=i.substring(i.lastIndexOf(e.location.pathname)+1).split("/"),u=($("body"),{option_:{app:null,baseUrl:null,basePath:!1,routerwithbaseurl:!1,preload:!1,preloadDelayTimes:null,hashReplace:null,routerMode:null,firstRouter:null,menuNavigation:{init_menuNav:null,ClassNavActive:null,ClassNav_Li_Active:null,ClassNav_Li_A_Active:null}},event_option_:{path:null,router:null,title:null},init:function(t){$.extend(u.option_,t);var n=$(u.option_.menuNavigation.init_menuNav);null===t.app?(console.log("first initialize app, for object content!"),alert("first initialize app, for object content!")):i.substring(i.lastIndexOf(u.option_.baseUrl)+1)||e.location.pathname?o?u.MenuAttribute(r(o)):a?u.MenuAttribute(r(a)):s(l[2])?u.MenuAttribute(r(l[2])):s(l[1])?u.MenuAttribute(r(l[1])):s(l[0])?u.MenuAttribute(r(l[0])):u.MenuAttribute(r(n.attr("router"))):console.log("pathname not found!")},RouterMode:function(t){if("hash"===u.option_.routerMode)var e="#/"+r(t);else if("slash"===u.option_.routerMode)e="/"+r(t);else if("search"===u.option_.routerMode)e="?"+r(t);else e="";return e},MenuAttribute:function(t){null!==u.option_.menuNavigation.init_menuNav&&$(u.option_.menuNavigation.init_menuNav).each((function(){t===r($(this).attr("router"))&&(u.event_({path:$(this).attr("href"),router:u.RouterMode($(this).attr("router")),title:$(this).attr("title_page")}),u.NavigationMenuActive(r($(this).attr("router"))))}))},NavigationMenuActive:function(t){return null!==u.option_.menuNavigation.init_menuNav?$(u.option_.menuNavigation.init_menuNav).each((function(){$(this).removeClass(u.option_.menuNavigation.ClassNav_Li_A_Active),$(this).parent().removeClass(u.option_.menuNavigation.ClassNav_Li_Active),$(this).parent().parent().removeClass(u.option_.menuNavigation.ClassNavActive),r($(this).attr("router"))===t&&(n.title=$(this).attr("title_page"),$(this).addClass(u.option_.menuNavigation.ClassNav_Li_A_Active),$(this).parent().addClass(u.option_.menuNavigation.ClassNav_Li_Active),$(this).parent().parent().addClass(u.option_.menuNavigation.ClassNavActive))})):console.log("menu Navigation not initialize!"),t},event_:function(t){if($.extend(u.event_option_,t),null===u.option_.app&&null===u.option_.baseUrl)console.log("first initialize app & baseUrl, for object content!");else{if(!0===u.option_.basePath)var e=u.option_.baseUrl+t.path;else e=t.path;var n=$(u.option_.app),o=this.RouterMode(t.router);if(e){this.router(o);var i={type:"get",url:e,dataType:"html",cache:!1},a=$.ajax(i);a.pipe((t=>{!0===u.option_.preload&&$(u.option_.preloadObject).show()})),a.done((t=>{null===u.option_.app||""===u.option_.app?(console.log("status:",505),console.log("error load content, set your initialize app!"),n.html("")):(console.log("status:",a.status),console.log("success load content."),n.html(t)),null===u.option_.preloadDelayTimes&&""===u.option_.preloadDelayTimes&&void 0===u.option_.preloadDelayTimes||setTimeout((function(){!0===u.option_.preload&&$(u.option_.preloadObject).hide()}),parseInt(u.option_.preloadDelayTimes))})),a.fail((t=>{console.log("status:",t.status),404===t.status&&console.log("not found load content!"),n.html("")}))}else console.log("your path not found!")}},router:function(t){if(e.location.search===t)if(!0===this.option_.routerwithbaseurl&&null!==this.option_.baseUrl||""!==this.option_.baseUrl)var n=history.pushState(null,null,this.option_.baseUrl+t);else n=history.pushState(null,null,t);else if(o===t)if(!0===this.option_.routerwithbaseurl&&null!==this.option_.baseUrl||""!==this.option_.baseUrl)n=history.pushState(null,null,this.option_.baseUrl+t);else n=history.pushState(null,null,t);else if(!0===this.option_.routerwithbaseurl&&null!==this.option_.baseUrl||""!==this.option_.baseUrl)n=history.replaceState(null,null,this.option_.baseUrl+t);else n=history.replaceState(null,null,t);return n},MenuEventActive:function(t){null===u.option_.menuNavigation.init_menuNav?console.log("initialize menu not found, create object menu from init function!"):$(u.option_.menuNavigation.init_menuNav).click((function(e){e.preventDefault(),t.path=$(this).attr("href")??null,t.router=$(this).attr("router")??null,t.title=$(this).attr("title_page")??null,u.NavigationMenuActive(r(t.router)),u.event_(t)}))},MenuEvent:function(t){this.NavigationMenuActive(r(t.router)),this.event_(t)}});function r(t){return t.replace(/[^\w\s]/gi,"")}function s(t){if(null!==u.option_.menuNavigation.init_menuNav){var e=[],n=!1;$(u.option_.menuNavigation.init_menuNav).each((function(t){e.push(r($(this).attr("router")))}));for(var o=0;o<e.length;o++)if(e[o]===t){n=!0;break}return n}console.log("menu navigation null!")}"function"==typeof define&&define.amd?define((function(){return u})):"object"==typeof module&&module.exports?module.exports=u:t.jspa=u}(window);